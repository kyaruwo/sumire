DROP DATABASE IF EXISTS sumire;

CREATE DATABASE sumire;

use sumire;

CREATE TABLE Users (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    token VARBINARY(432) UNIQUE,
    `name` VARBINARY(32) UNIQUE NOT NULL,
    `password` BLOB NOT NULL
);

CREATE TABLE Notes (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `user_id` BIGINT NOT NULL,
    title BLOB NOT NULL,
    body BLOB NOT NULL
);

CREATE TABLE Logs (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    `user_id` BIGINT NOT NULL,
    `request` TEXT NOT NULL,
    `response` TEXT NOT NULL,
    `datetime` DATETIME DEFAULT CURRENT_TIMESTAMP
);